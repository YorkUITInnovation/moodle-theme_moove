{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free softpware: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template theme_moove/footer

    Page footer.

    Example context (json):
    {
        "output": {
            "page_doc_link": "Help and documentation",
            "supportemail": "<a href=\"#\">Contact site support</a>",
            "has_popover_links": true,
            "services_support": "Services and support",
            "login_info": "You are logged in as cute kitten",
            "moodle_release": "90210"
        }
    }
}}
<style>
    .wp-block-social-links .wp-social-link.wp-social-link.wp-social-link {
        margin: 4px 8px 4px 0;
    }

    .wp-block-social-links.aligncenter {
        justify-content: center;
        display: flex;
    }

    .mb-2, .my-2 {
        margin-bottom: 0.5rem !important;
    }

    .mt-2, .my-2 {
        margin-top: 0.5rem !important;
    }

    .aligncenter {
    }

    .aligncenter {
        clear: both;
    }

    .wp-block-social-links, .wp-block-social-links.has-normal-icon-size {
        font-size: 24px;
    }

    .wp-block-social-links {
        display: flex;
        flex-wrap: wrap;
        padding-left: 0;
        padding-right: 0;
        text-indent: 0;
        margin-left: 0;
    }

    .wp-block-social-link {
        display: block;
        border-radius: 9999px;
        transition: transform .1s ease;
        height: auto;
    }

    *, ::before, ::after {
        box-sizing: border-box;
    }

    .wp-block-social-links, .wp-block-social-links.has-normal-icon-size {
        font-size: 24px;
    }

    .wp-block-social-links {
        text-indent: 0;
    }

</style>
<footer id="page-footer">
    {{{ output.standard_footer_html }}}
    <div class="footer-content-debugging footer-dark bg-dark text-light">
        <div class="moove-container-fluid footer-dark-inner">
            {{{ output.debug_footer_html }}}
        </div>
    </div>

    <div data-region="footer-container-popover">
        <button class="btn btn-icon bg-secondary icon-no-margin btn-footer-popover" data-action="footer-popover"
                aria-label="{{#str}}showfooter, theme_boost{{/str}}" onclick='initWatson()'>
            {{#pix}}e/question, core{{/pix}}
        </button>
    </div>
    <div class="footer-content-popover container" data-region="footer-content-popover">
        <div class="footer-section p-3 border-bottom">
            {{{output.render_watson}}}
        </div>

        {{# output.has_popover_links }}
            <div class="footer-section p-3 border-bottom">
                <a href="https://lthelp.yorku.ca/moodle"
                   class="btn btn-york-red w-100"
                   target="_blank"
                    title="{{#str}}moodledocslink, core{{/str}}"
                >
                    {{#str}}moodledocslink, core{{/str}}
                </a>
                <!-- {{# output.page_doc_link }}
                    <div>{{{ output.page_doc_link }}}</div>
                {{/ output.page_doc_link }}

                {{# output.services_support_link }}
                    <div>{{{ output.services_support_link }}}</div>
                {{/ output.services_support_link }} -->
            </div>
        {{/ output.has_popover_links }}
        {{#output.get_user_tours}}
            <div class="footer-section p-3 border-bottom">
                <a id="resetpagetour" class="btn btn-york-red w-100">
                    {{#str}}reset_user_tour, theme_moove{{/str}}
                </a>
            </div>
        {{/output.get_user_tours}}
        <div class="footer-section p-3">
            <div>{{#str}}poweredbymoodle, core{{/str}}</div>
            {{#output.moodle_release}}
                <div>
                    {{#str}}version, core{{/str}} {{{ output.moodle_release }}}
                </div>
            {{/output.moodle_release}}
        </div>
    </div>

    <input type="hidden" id="sleekplanid" value="{{{output.get_sleekplanid}}}">
</footer>

{{{ output.standard_end_of_body_html }}}

{{#js}}
    require(['theme_boost/footer-popover'], function(FooterPopover) {
    FooterPopover.init();
    });
    require(['theme_moove/sleekplan'], function(mod) {
      {{#output.is_staff}}
        mod.init();
      {{/output.is_staff}}

    });
{{/js}}
